\chap Introduction

Window manager is a tool that controls the placement and appearance of windows on the screen.
It is probably one of the most important parts of a graphical user interface of today's personal computers.
Generally, we can divide window managers into two categories, stacking window managers and tiling window managers.
Stacking window managers provide the traditional desktop metaphor and are the most widely used type.
They allow users to stack windows on top of each other, move them around, and resize them freely.
Tiling window managers, on the other hand, organize windows on the screen so they do not overlap and use all available screen space.

The first computer shipped with a working WIMP (windows, icons, menus, pointer) GUI was the Xerox Alto in the 1970s,
which used a stacking window management.
Its successor, Xerox Star, was the first commercial personal computer using the desktop metaphor, and it used tiling for most main application windows~\cite[alto].
The first window manager for X11 was the Ultrix Window Manager (uwm), which was released in 1985~\cite[mikes].
It was soon replaced by the Tab Window Manager (twm)~\cite[twm], which is still standard with X.Org Server and is available as part of many X Window System implementations.
Probably the first desktop environment for Unix was the Common Desktop Environment (CDE)~\cite[cde],
announced in 1993~\cite[desktopHistory].
It was developed as a unified desktop environment for many commercial proprietary Unixes that dominated
the workstation market: IBM's AIX, Digitalâ€™s Tru64, or Sun's Solaris~\cite[cdeParty].
Then, KDE~\cite[kde] was announced in 1996 with a goal of creating an environment
in which users could expect things to look, feel, and work consistently~\cite[kdeanon].
Its first version were then released in 1998~\cite[desktopGrown].
By that time, other desktop environments were already released, such as Xfce~\cite[xfce] (1996),
or Enlightenment~\cite[enlightment] (1997), and they were soon followed
by GNOME~\cite[gnome] (1999)~\cite[desktopHistory].
Xfce, Enlightenment, KDE, and GNOME are among the most popular desktop environments to this day~\cite[arch_de].

Desktop environments target a wide range of users, and provide lots of built-in applications and utilities,
so they can be used without much configuration.
They also come with stacking window managers, because those are controlled using a pointing device and thus easier for most users.
Among power users though, lightweight desktops are becoming more and more popular lately,
because they are light on system resources and thus fast.
This leads to the increasing popularity of tiling window managers, which are keyboard-oriented and target power users.
One of the first lightweight tiling window managers was dwm~\cite[dwm], which was created in 2006.
This has sparked the development of dozens of other tiling managers.

While lots of lightweight tiling window managers have been created in recent years,
lightweight and keyboard-oriented stacking window managers seem to be missing.
Existing stacking window managers are either part of a desktop environment and thus not keyboard-oriented,
or they are outdated, written in an unmaintainable and inextensible style, and lacking crucial features like EWMH support.
Therefore, we feel a need for a lightweight, keyboard-oriented stacking window manager, that will be easy to use and extensible.


%Although full desktop environment that comes with lots of built-in apps and utilities is probably the best choice for most
%users, lot of users starts to prefer lightweight desktops or standalone window managers for their speed and lightness on system resources.

%Ten uvod by mel byt delsi, zaradil bych tam kus historie. Od prvnich window systemu, ktery meli window manager - twm,
% pres desktopy jako gnome a kde az k lightweight desktopum a rozmachu tiling manageru jako je dwm, i3, ...
%Pak rict, ze zatim co je hodne lightweight tilingovych manageru, chybi lightweight, keyboard-oriented stackable.
%
%Pak bych zminil proc jste si vybral Go misto klasickyho C/C++/Rustu/....



%While a lot of tiling window managers have been created in recent years, it is not the case for stacking window managers.
%Available stacking window managers are either outdated, written in an unmaintainable and inextensible style, or they are
%part of large desktop environments and with lots of dependencies.
%Therefore, we feel a need for a small, easy to use, stacking window manager, that will be easily extensible.

%TODO some more ideas...
%While there are many tiling window managers
%While there is a plethora of tiling window managers available for the X Window System,
%the most widely used windowing system for Linux, situation is quite different for stacking window managers.
%Existing stacking window managers are either part of a big desktop environment
%There seems to be lack of a small, easy to use and extensible stacking window manager.
%Those existing are either large
%Stacking window managers are usually part of a big desktop environment, opinionated and not easily extensible.
%Those few existing stacking window managers that are small and meant to be used standalone,
%without the desktop environment, are quite old, implemented in C, mostly in a one big file,
%which makes them unmaintainable and inextensible.

\nonum
\sec Goals of the Thesis

The goal of this thesis is to design and implement a stacking window manager for the X11 Window System on Linux.
This window manager should be small, easy to use, and implemented in a modern system programming language.
It should be compliant with Inter-Client Communication Conventions Manual (ICCCM)~\cite[icccm],
and Extended Window Manager Hints (EWMH)~\cite[ewmh],
the two window manager standards for X defined by freedesktop~\cite[freedesktop].
Its core features should include:
\begitems
* stacking window management,
* virtual desktops,
* basic window decorations,
* basic tiling (moving windows to half/thirds of the screen),
* extensibility, and
* scriptability.
\enditems
The implementation should be easy to read, and tested.

\nonum
\sec Structure of the Thesis

The rest of the thesis is organized as follows.
In Chapter~\ref[chap:background], we describe the windowing system, desktop environment, and window manager.
Different types of window managers are discussed and some window managers are described in detail.
We talk about the X Window System, its history, architecture, and the X protocol.
We also discuss two standard protocols defined on top of the X protocol, ICCCM, and EWMH.
Chapter~\ref[chap:design] is about the design and philosophy of the window manager.
Finally, Chapter~\ref[chap:impl] describes the implementation process.
We go through the tools used in the process, discuss some implementation details, and how was the window manager tested.
